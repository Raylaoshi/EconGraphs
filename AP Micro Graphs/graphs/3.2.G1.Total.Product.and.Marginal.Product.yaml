title: Total Product and Marginal Product
title_zh: 总产量与边际产量
label: 3.2.G1
eyebrow: Unit 3 — Production, Cost, and Perfect Competition
eyebrow_zh:
description: |
  <p>Drag the point along the Labor axis to observe the relationship between the Total Product (TP) curve and the Marginal Product (MP) curve.</p>
  <strong>The relationship between TP and MP can be divided into 3 stages:</strong>
  <ol>
      <li>L = 1~4: MP increases, TP increases at an <strong>increasing</strong> rate.</li>
      <li>L = 4~8: MP decreases, TP increases at a <strong>decreasing</strong> rate.</li>
      <li>L > 8: MP is negative, TP decreases.</li>
  </ol>
description_zh: |
  <p>沿劳动力轴拖动端点，观察总产量（TP）曲线与边际产量（MP）曲线之间的关系。</p>
  <strong>TP和MP的关系可以分为3个阶段：</strong>
  <ol>
      <li>L = 1~4：MP递增，TP递增，但<strong>增速</strong>递增</li>
      <li>L = 4~8：MP递减，TP递增，但<strong>减速</strong>递增</li>
      <li>L > 8：MP为负，TP下降</li>
  </ol>

schema: EconSchema

params:
- name: L
  value: 1
  min: 0
  max: 9.5
  round: 0.1 

calcs:
  # curves
  TP: "(-(params.L)^3 + 12*(params.L)^2)"
  MP: "(-3*(params.L)^2 + 24*(params.L))"
  
  # key points
  InflectionX: 4
  ZeroMP: 8

  # key regions
  StageI: "calcs.InflectionX/2"
  StageII: "((calcs.InflectionX + 10)/2)"

layout:
  TwoVerticalGraphs:
    
    topGraph:
      xAxis:
        title: Labor 
        orient: bottom
        min: 0
        max: 10
        ticks: 10     
            
      yAxis:
        title: Output
        orient: left
        min: 0
        max: 300
        ticks: 5
      
      objects:

        - Curve:
            fn: "(-(x)^3+12*(x)^2)"
            samplePoints: 100
            stroke: blue
            strokeWidth: 2
            label:
              text: \text{Total Product}
              x: 10
              position: t       
              
        - Point:
            coordinates: [params.L, calcs.TP]
            fill: blue
            drag:
            - horizontal: L
            droplines:
              vertical: params.L.toFixed(1)
              horizontal: calcs.TP.toFixed(1)
        
        # Vertical line at the inflection point
        - Segment:
            a: [calcs.InflectionX, yAxis]
            b: [calcs.InflectionX, 0] 
            strokeWidth: 1
            lineStyle: dotted
            color: grey

        # Region Labels - left
        - Label:
            coordinates: [calcs.StageI, 300] 
            text: \text{Increasing Marginal Returns}
            color: black
            fontSize: 10
        
        # Region Labels - right
        - Label:
            coordinates: [calcs.StageII, 300]
            text: \text{Diminishing Marginal Returns}
            color: black
            fontSize: 10

        # add a point at the steepest point
        - Point:
            coordinates: [calcs.InflectionX,(-(calcs.InflectionX)^3+12*(calcs.InflectionX)^2)]
            color: blue
            label:
              text: \text{Steepest}
              position: tl
            bgcolor: none
            fontSize: 10
            r: 5
        
        # add a point at the maximum point
        - Point:
            coordinates: [calcs.ZeroMP,(-(calcs.ZeroMP)^3+12*(calcs.ZeroMP)^2)]
            color: blue
            label:
              text: \text{Maximum}
              position: bl
            bgcolor: none
            fontSize: 10
            r: 5
            
        - Line:
            point: [params.L, calcs.TP]
            color: red
            slope: calcs.MP
            min: params.L - 1.5
            max: params.L + 1.5
            strokeWidth: 2
            label:
              text: "`slope=MP=${calcs.MP.toFixed(1)}`"
              x: params.L
              position: br
              fontSize: 10
  
    bottomGraph:
      xAxis:
        title: Labor
        orient: bottom
        min: 0
        max: 10
        ticks: 10
      
      yAxis:
        title: Output
        orient: left
        min: -60
        max: 60
        ticks: 8
      
      objects:
        - Curve:
            fn: "(-3*(x)^2 + 24*(x))"
            samplePoints: 100
            stroke: red
            strokeWidth: 2
            label:
              text: \text{Marginal Product}
              x: 9.5
              position: t  

        - Point:
            coordinates: [params.L, calcs.MP]
            color: red
            drag:
            - horizontal: L
            droplines:
              vertical: params.L.toFixed(1)
              horizontal: (calcs.MP).toFixed(1)
              background: false
              
        # fill areas under the MP curve
        - Area:
            fn1: "(-3*(x)^2 + 24*(x))"
            fn2: "0"
            min: 0
            max: min(params.L,calcs.ZeroMP)
            fill: blue
            fillOpacity: 0.2
        
        # fill areas above the MP curve
        - Area:
            fn1: "0"
            fn2: "(-3*(x)^2 + 24*(x))"
            min: calcs.ZeroMP
            max: params.L
            fill: red
            fillOpacity: 0.2
            show: (params.L > calcs.ZeroMP)
        
        # add a label showing the total product
        - Label:
            coordinates: [(params.L-.8), (0.5*calcs.MP)]
            text: "`TP = ${calcs.TP.toFixed(1)}`"
            color: blue
            bgcolor: none
            fontSize: 10           

        # Vertical line at the inflection point
        - Segment:
            a: [calcs.InflectionX, yAxis]
            b: [calcs.InflectionX, 0] 
            strokeWidth: 1
            lineStyle: dotted
            color: grey

        # Region Labels - left
        - Label:
            coordinates: [calcs.StageI, 60] 
            text: \text{Increasing Marginal Returns}
            color: black
            fontSize: 10
        
        # Region Labels - right
        - Label:
            coordinates: [calcs.StageII, 60]
            text: \text{Diminishing Marginal Returns}
            color: black
            fontSize: 10

        # add a point at the maximum point
        - Point:
            coordinates: [calcs.InflectionX,(-3*(calcs.InflectionX)^2 + 24*(calcs.InflectionX))]
            color: red
            label:
              text: \text{Maximum}
              position: bl
            bgcolor: none
            fontSize: 10
            r: 5  
        
        # add a point at the maximum point
        - Point:
            coordinates: [calcs.ZeroMP,(-3*(calcs.ZeroMP)^2 + 24*(calcs.ZeroMP))]
            color: red
            bgcolor: none
            label:
              text: \text{Zero}
              position: bl
            fontSize: 10
            r: 5
