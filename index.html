<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>AP Econ Graphs</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Outfit:wght@300;400;500&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      /* WARMER THEME PALETTE */
      --bg: #fcfbf9;       
      --ink: #050e3c;      
      --mid: #002455;      
      --faint: #f2f0eb;    
      --line: #e6e4e0;     
      --red: #DC0000;     
      --red-dim: #e6eeff;
    }
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{background:var(--bg);color:var(--ink);font-family: 'Outfit', 'Noto Sans SC', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; font-weight:300;line-height:1.7;-webkit-font-smoothing:antialiased;opacity: 0; transition: opacity .35s ease;}

    /* TOPBAR */
    .topbar{position:sticky;top:0;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:0 clamp(1rem,4vw,2rem); padding-top: env(safe-area-inset-top);height: calc(64px + env(safe-area-inset-top));border-bottom:1px solid var(--line);background:rgba(252,251,249,0.95);backdrop-filter:blur(12px)}
    .logo{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-weight:800;font-size:clamp(.85rem,2vw,1.1rem);letter-spacing:-.02em;color:var(--ink);text-decoration:none}
    .logo span{color:var(--red)}
    .lang-toggle{display:flex;gap:6px}
    .lang-btn{background:none;border:1px solid var(--line);border-radius:6px;padding:.3rem .85rem;font-size:.78rem;font-family:inherit;cursor:pointer;color:var(--mid);transition:all .18s;font-weight:500}
    .lang-btn:hover{border-color:var(--mid)}
    .lang-btn.active{background:var(--ink);color:#fff;border-color:var(--ink)}

    /* HERO */
    .hero-wrap{border-bottom:1px solid var(--line)}
    .hero{max-width:1100px;margin:0 auto;padding:clamp(4rem,9vw,8rem) clamp(1rem,4vw,2rem) clamp(3rem,6vw,6rem);display:grid;grid-template-columns:1fr auto;gap:3rem;align-items:end}
    .eyebrow{font-size:clamp(.65rem,1.5vw,.75rem);letter-spacing:.2em;text-transform:uppercase;color:var(--mid);margin-bottom:1.5rem;font-weight:600}
    h1{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-weight:800;font-size:clamp(3rem,10vw,6.8rem);line-height:.92;letter-spacing:-.03em;color:var(--ink)}
    h1 .accent{color:var(--red)}
    .hero-sub{margin-top:2rem;font-size:clamp(1rem,2vw,1.15rem);color:var(--mid);max-width:500px;line-height:1.6}
    .hero-cta{margin-top:2.5rem;display:flex;gap:1rem;flex-wrap:wrap}
    .btn-primary{display:inline-flex;align-items:center;justify-content:center;background:var(--ink);color:#fff;text-decoration:none;font-size:.95rem;font-weight:500;padding:.85rem 1.8rem;border-radius:6px;transition:transform .18s, background .18s; border: 1px solid var(--ink);}
    .btn-primary:hover{background:var(--red); border-color:var(--red); transform:translateY(-2px)}
    .btn-ghost{display:inline-flex;align-items:center;justify-content:center;background:transparent;color:var(--ink);border:1px solid var(--line);text-decoration:none;font-size:.95rem;font-weight:500;padding:.85rem 1.8rem;border-radius:6px;transition:all .18s; cursor: pointer;}
    .btn-ghost:hover{border-color:var(--ink); background: var(--faint);}
    .hero-deco{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-weight:800;font-size:clamp(6rem,18vw,14rem);color:var(--faint);line-height:0.8;letter-spacing:-.05em;user-select:none;align-self:start;padding-top:1rem; opacity: 0.6;}

    /* SECTIONS */
    .section{max-width:1100px;margin:0 auto;padding:clamp(4rem,8vw,6rem) clamp(1rem,4vw,2rem)}
    .section-border{border-top:1px solid var(--line)}
    .sec-header{display:flex;align-items:baseline;gap:1.5rem;margin-bottom:3rem;flex-wrap:wrap}
    
    /* MODIFIED: Larger Numbers */
    .sec-num{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:1.2rem;color:var(--red);font-weight:800;letter-spacing:0; opacity: 0.8;}
    
    .sec-title{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-weight:700;font-size:clamp(1.5rem,4vw,2.2rem);letter-spacing:-.02em}

    /* ABOUT */
    .about-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,300px),1fr));gap:clamp(2rem,5vw,4rem)}
    .about-tag{display:inline-block;font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;background:var(--red-dim);color:var(--red);padding:.3rem .7rem;border-radius:4px;font-weight:600;margin-bottom:1.2rem}
    .about-grid p{color:var(--ink);font-size:1rem;margin-bottom:1rem;opacity:0.9}

    /* FOLDERS - MODIFIED: Asymmetrical Grid */
    .folder-grid{
      display:grid;
      /* Default mobile: 1 column */
      grid-template-columns: 1fr; 
      gap:1px;
      background:var(--line);
      border:1px solid var(--line);
      border-radius:12px;
      overflow:hidden
    }
    /* Desktop: Unequal columns to give Graphs more space */
    @media(min-width: 768px) {
      .folder-grid {
        grid-template-columns: 1.6fr 1fr; /* 1.6 part vs 1 part */
      }
    }

    .folder-card{background:var(--bg);padding:clamp(2rem,5vw,3rem) clamp(1.5rem,4vw,2.5rem);text-decoration:none;color:var(--ink);display:flex;flex-direction:column;gap:.8rem;transition:background .2s;min-height:220px}
    .folder-card:hover{background:var(--faint)}
    .folder-num{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:2.5rem;font-weight:800;color:var(--line);line-height:1;margin-bottom:.5rem}
    .folder-card h3{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:clamp(1.1rem,2.2vw,1.4rem);font-weight:700;letter-spacing:-.01em}
    .folder-card p{font-size:.9rem;color:var(--mid);margin:0;line-height:1.6}
    .folder-arrow{margin-top:auto;padding-top:1.5rem;font-size:.85rem;color:var(--red);font-weight:600; display:flex; align-items:center; gap:0.5rem;}

    /* CREDIT */
    .credit-card{border:1px solid var(--line);border-radius:12px;padding:clamp(2rem,5vw,3rem);display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem; color:var(--ink);}
    .credit-left{flex:1;min-width:min(100%,300px)}
    .credit-kicker{font-size:.7rem;letter-spacing:.15em;text-transform:uppercase;color:var(--mid);margin-bottom:.5rem;font-weight:600}
    .credit-name{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:clamp(1.2rem,3vw,1.6rem);font-weight:700;letter-spacing:-.02em;margin-bottom:.8rem}
    .credit-desc{font-size:.95rem;color:var(--mid);line-height:1.6;max-width:500px}
    .credit-link{display:inline-flex;align-items:center;background:var(--faint);color:var(--ink);text-decoration:none;font-size:.9rem;font-weight:500;padding:.8rem 1.5rem;border-radius:6px;transition:all .18s; border:1px solid transparent}
    .credit-link:hover{background:#fff; border-color:var(--line); box-shadow: 0 4px 12px rgba(0,0,0,0.05);}

    /* CONTACT */
    .contact-strip{background:var(--ink);border-radius:12px;padding:clamp(2.5rem,5vw,3.5rem) clamp(1.5rem,4vw,3rem);display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem; box-shadow: 0 10px 30px -10px rgba(0,0,0,0.2);}
    .contact-left{flex:1;min-width:min(100%,300px)}
    .contact-strip h3{font-family: 'Syne', 'SF Pro Display', 'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:clamp(1.4rem,3vw,2rem);font-weight:700;color:#fff;letter-spacing:-.02em;margin-bottom:.5rem}
    .contact-strip p{font-size:1rem;color:rgba(255,255,255,.7);margin:0;max-width:450px}
    
    .contact-btn{display:inline-flex;align-items:center;background:var(--red);color:#fff;text-decoration:none;font-size:.95rem;font-weight:500;padding:.85rem 2rem;border-radius:6px;white-space:nowrap;transition:all .18s; border:none; cursor: pointer;}
    .contact-btn:hover{background:#fff; color:var(--red); transform:translateY(-2px)}

    /* FOOTER */
    .footer-wrap{border-top:1px solid var(--line); background:#fff}
    footer{max-width:1100px;margin:0 auto;padding:clamp(1.5rem,3vw,2rem) clamp(1rem,4vw,2rem);display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:1rem;font-size:.8rem;color:var(--mid)}
    footer a{color:var(--mid);text-decoration:none; transition:color .2s}
    footer a:hover{color:var(--ink); text-decoration: underline;}

    @media(max-width:768px){
      .hero{grid-template-columns:1fr; padding-top: 3rem;}
      .hero-deco{display:none}
    }

    /* â”€â”€ WECHAT MODAL â”€â”€ */
    .modal-overlay {
      display: none; position: fixed; inset: 0; z-index: 999;
      background: rgba(28,27,26,0.6); backdrop-filter: blur(6px);
      align-items: center; justify-content: center;
    }
    .modal-overlay.open { display: flex; }
    .modal-box {
      background: #fff; border-radius: 16px;
      padding: 2.5rem; max-width: 320px; width: 90%;
      text-align: center; position: relative;
      box-shadow: 0 24px 60px rgba(0,0,0,0.15);
      animation: popIn .25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    @keyframes popIn {
      from { transform: scale(0.92); opacity: 0; }
      to   { transform: scale(1);    opacity: 1; }
    }
    .modal-close {
      position: absolute; top: 1rem; right: 1rem;
      background: var(--faint); border: none; width: 32px; height: 32px;
      border-radius: 50%; font-size: 1.2rem; display: flex; align-items: center; justify-content: center;
      cursor: pointer; color: var(--mid); line-height: 1; transition: all .2s;
    }
    .modal-close:hover { background: var(--line); color: var(--ink); }
    .modal-label {
      font-family: 'Syne', sans-serif; font-weight: 700;
      font-size: 1rem; margin-bottom: 1.5rem; letter-spacing: -.01em;
    }
    .modal-label .wechat-name { color: #07c160; }
    .qr-image {
    width: 100%;
    max-width: 160px;
    height: auto;
    display: block;
    margin: 0 auto;
    }
    .modal-hint {
      margin-top: 1.2rem; font-size: .85rem; color: var(--mid); line-height: 1.5; font-weight: 500;
    }
  </style>
</head>
<body>

<header class="topbar">
  <a class="logo" href="#"><span>AP</span>Â·EconÂ·Graphs</a>
  <div class="lang-toggle">
    <button class="lang-btn active" id="btn-en" onclick="setLang('en')">EN</button>
    <button class="lang-btn" id="btn-zh" onclick="setLang('zh')">ä¸­æ–‡</button>
  </div>
</header>

<div class="hero-wrap">
  <div class="hero">
    <div>
      <div class="eyebrow" data-i18n="eyebrow"></div>
      <h1>
        <span data-i18n="h1a"></span><br>
        <span data-i18n="h1b"></span><br>
        <span class="accent" data-i18n="h1c"></span>
      </h1>
      <p class="hero-sub" data-i18n="heroSub"></p>
      <div class="hero-cta">
        <a class="btn-primary" href="#graphs" data-i18n="ctaGraphs"></a>
        <a class="btn-ghost" href="https://github.com/Raylaoshi/AP.Econ.Graphs" target="_blank">GitHub â†—</a>
        <button class="btn-ghost" onclick="openWechat()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="margin-right:8px"><path d="M8.69 6.29C5.04 6.29 2 8.7 2 11.67c0 1.7.93 3.22 2.38 4.23l-.6 1.8 2.1-1.05c.7.2 1.45.31 2.22.31.23 0 .46-.01.68-.03a4.3 4.3 0 0 1-.1-.92c0-2.72 2.74-4.93 6.12-4.93.23 0 .46.01.68.03C14.93 8.5 12.06 6.29 8.69 6.29zm-1.7 2.61a.85.85 0 1 1 0 1.7.85.85 0 0 1 0-1.7zm3.41 0a.85.85 0 1 1 0 1.7.85.85 0 0 1 0-1.7zM22 15.33c0-2.6-2.62-4.71-5.86-4.71s-5.86 2.11-5.86 4.71 2.62 4.71 5.86 4.71c.63 0 1.24-.09 1.8-.25l1.73.87-.5-1.49A4.43 4.43 0 0 0 22 15.33zm-7.64-1.06a.71.71 0 1 1 0 1.42.71.71 0 0 1 0-1.42zm3.56 0a.71.71 0 1 1 0 1.42.71.71 0 0 1 0-1.42z"/></svg>
          <span data-i18n="wechatBtn">WeChat</span>
        </button>
      </div>
    </div>
    <div class="hero-deco" aria-hidden="true">âˆ‚</div>
  </div>
</div>

<div class="section-border">
  <section class="section" id="about">
    <div class="sec-header">
      <span class="sec-num">01</span>
      <h2 class="sec-title" data-i18n="aboutTitle"></h2>
    </div>
    <div class="about-grid">
      <div>
        <div class="about-tag" data-i18n="tag1"></div>
        <p data-i18n="about1a"></p>
        <p data-i18n="about1b"></p>
      </div>
      <div>
        <div class="about-tag" data-i18n="tag2"></div>
        <p data-i18n="about2a"></p>
        <p data-i18n="about2b"></p>
      </div>
    </div>
  </section>
</div>

<div class="section-border">
  <section class="section" id="graphs">
    <div class="sec-header">
      <span class="sec-num">02</span>
      <h2 class="sec-title" data-i18n="graphsTitle"></h2>
    </div>
    <div class="folder-grid">
      <a class="folder-card" href="AP Micro Graphs/index.html">
        <div class="folder-num">01</div>
        <h3 data-i18n="folder1Title"></h3>
        <p data-i18n="folder1Desc"></p>
        <div class="folder-arrow"><span data-i18n="openFolder"></span> â†’</div>
      </a>
      <a class="folder-card" href="Previous Experiments/index.html">
        <div class="folder-num">02</div>
        <h3 data-i18n="folder2Title"></h3>
        <p data-i18n="folder2Desc"></p>
        <div class="folder-arrow"><span data-i18n="openFolder"></span> â†’</div>
      </a>
    </div>
  </section>
</div>

<div class="section-border">
  <section class="section" id="credit">
    <div class="sec-header">
      <span class="sec-num">03</span>
      <h2 class="sec-title" data-i18n="creditTitle"></h2>
    </div>
    <div class="credit-card">
      <div class="credit-left">
        <div class="credit-kicker">JavaScript Engine</div>
        <div class="credit-name">KineticGraphs (KGJS)</div>
        <p class="credit-desc" data-i18n="creditDesc"></p>
      </div>
      <a class="credit-link" href="https://kineticgraphs.org" target="_blank" data-i18n="creditBtn"></a>
    </div>
  </section>
</div>

<div class="section-border">
  <section class="section" id="contact">
    <div class="sec-header">
      <span class="sec-num">04</span>
      <h2 class="sec-title" data-i18n="contactTitle"></h2>
    </div>
    <div class="contact-strip">
      <div class="contact-left">
        <h3 data-i18n="contactHeading"></h3>
        <p data-i18n="contactDesc"></p>
      </div>
      
      <!-- Button for English: Email -->
      <a class="contact-btn" id="btn-contact-email" href="mailto:pengzihao@yahoo.com?subject=Question regarding AP Econ Graphs" target="_blank" data-i18n="contactBtnEmail"></a>
      
      <!-- Button for Chinese: WeChat Modal -->
      <button class="contact-btn" id="btn-contact-wechat" onclick="openWechat()" style="display:none; cursor:pointer;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="margin-right:8px"><path d="M8.69 6.29C5.04 6.29 2 8.7 2 11.67c0 1.7.93 3.22 2.38 4.23l-.6 1.8 2.1-1.05c.7.2 1.45.31 2.22.31.23 0 .46-.01.68-.03a4.3 4.3 0 0 1-.1-.92c0-2.72 2.74-4.93 6.12-4.93.23 0 .46.01.68.03C14.93 8.5 12.06 6.29 8.69 6.29zm-1.7 2.61a.85.85 0 1 1 0 1.7.85.85 0 0 1 0-1.7zm3.41 0a.85.85 0 1 1 0 1.7.85.85 0 0 1 0-1.7zM22 15.33c0-2.6-2.62-4.71-5.86-4.71s-5.86 2.11-5.86 4.71 2.62 4.71 5.86 4.71c.63 0 1.24-.09 1.8-.25l1.73.87-.5-1.49A4.43 4.43 0 0 0 22 15.33zm-7.64-1.06a.71.71 0 1 1 0 1.42.71.71 0 0 1 0-1.42zm3.56 0a.71.71 0 1 1 0 1.42.71.71 0 0 1 0-1.42z"/></svg>
        <span data-i18n="contactBtnWechat"></span>
      </button>
    </div>
  </section>
</div>

<div class="footer-wrap">
  <footer>
    <span>AP.Econ.Graphs Â· <a href="https://github.com/Raylaoshi/AP.Econ.Graphs" target="_blank">github.com/Raylaoshi</a></span>
    <span data-i18n="footerCredit"></span>
  </footer>
</div>

<script>
const T = {
  en: {
    eyebrow:       'AP Economics Â· Interactive Learning',
    h1a:           'See',
    h1b:           'the',
    h1c:           'Logic',
    heroSub:       'Interactive graph models for AP Microeconomics â€” built for students, by a teacher who still asks "but why?"',
    ctaGraphs:     'Explore Graphs â†“',
    wechatBtn:     'WeChat',
    aboutTitle:    'About This Project',
    tag1:          'The Story',
    about1a:       'As an AP Economics teacher â€” and a philosophy major who found his way into the classroom â€” I\'ve always believed that abstract models only come alive when students can interact with them.',
    about1b:       'Supply curves, cost functions, market equilibria â€” these aren\'t just diagrams. They are dynamic relationships that respond, shift, and balance in real time.',
    tag2:          'How It Works',
    about2a:       'Every graph here is built using Chris Makler\'s KineticGraphs (KGJS) engine, which makes it possible to create parameter-driven economic diagrams with simple declarative code. Of course, AI tools â€” including Claude â€” are my coding companions.',
    about2b:       'This is a living project and new graphs are added regularly.',
    graphsTitle:   'Graph Directory',
    folder1Title:  'AP Micro Graphs',
    folder1Desc:   'Supply & demand, cost curves, market structures, and more core AP Micro models.',
    folder2Title:  'Previous Experiments',
    folder2Desc:   'Earlier prototypes showing the evolution of this project â€” rough edges and all.',
    openFolder:    'Open folder',
    creditTitle:   'Built With',
    creditDesc:    'Created by Chris Makler at Stanford University. KGJS powers every interactive diagram on this site through clean, declarative YAML/JSON definitions.',
    creditBtn:     'Visit kineticgraphs.org â†—',
    contactTitle:  'Get in Touch',
    contactHeading:'Let\'s Connect',
    contactDesc:   'Teaching AP Econ? Want to collaborate or suggest a graph? I\'m always happy to chat. ðŸ˜Š',
    contactBtnEmail: 'Drop an Email â†’',
    contactBtnWechat:'Add WeChat â†’',
    footerCredit:  'Built with KineticGraphs by Chris Makler',
    wechatAddMe:   'Add me on ',
    wechatName:    'WeChat',
    modalHint:     'Open WeChat â†’ Scan QR code',
  },
  zh: {
    eyebrow:       'APç»æµŽå­¦ Â· äº’åŠ¨å­¦ä¹ ',
    h1a:           'è§¦æ‘¸',
    h1b:           'ç»æµŽå›¾åƒ',
    h1c:           'èƒŒåŽçš„é€»è¾‘',
    heroSub:       'ä¸“ä¸ºAPç»æµŽå­¦è®¾è®¡çš„äº’åŠ¨å›¾åƒæ¨¡åž‹â€”â€”ç”±ä¸€ä½ä¾ç„¶ä¼šé—®"ä¸ºä»€ä¹ˆ"çš„è€å¸ˆä¸ºå­¦ç”Ÿæ‰“é€ ã€‚',
    ctaGraphs:     'æµè§ˆå›¾åƒ â†“',
    wechatBtn:     'å¾®ä¿¡',
    aboutTitle:    'å…³äºŽæœ¬é¡¹ç›®',
    tag1:          'é¡¹ç›®ç¼˜èµ·',
    about1a:       'ä»Žæ•™å…­å¹´å¤šæ¥ï¼Œè®©æ¯ä¸ªå­©å­çœŸæ­£çœ‹æ‡‚ç»æµŽå›¾åƒï¼Œä¸€ç›´æ˜¯ä¸ªæŒ‘æˆ˜ã€‚æˆ‘å§‹ç»ˆç›¸ä¿¡ï¼ŒæŠ½è±¡çš„æ¨¡åž‹ï¼Œåªæœ‰å­¦ç”Ÿèƒ½äº²æ‰‹â€œåŠ¨ä¸€åŠ¨â€ï¼Œæ‰èƒ½çœŸæ­£æ´»è¿‡æ¥ã€‚',
    about1b:       'ä¾›ç»™æ›²çº¿ã€æˆæœ¬å‡½æ•°ã€å¸‚åœºå‡è¡¡â€”â€”å®ƒä»¬ä¸æ˜¯é™æ€çš„å›¾åƒï¼Œè€Œæ˜¯ä¼šå®žæ—¶å“åº”ã€åŠ¨æ€å˜åŒ–ã€å½¼æ­¤åˆ¶è¡¡çš„å…³ç³»ã€‚',
    tag2:          'æŠ€æœ¯å®žçŽ°',
    about2a:       'æœ¬ç«™æ‰€æœ‰äº’åŠ¨å›¾åƒå‡åŸºäºŽChris Maklerå¼€å‘çš„KineticGraphsï¼ˆKGJSï¼‰å¼•æ“Žã€‚å®ƒè®©æˆ‘èƒ½ç”¨ç®€æ´çš„å£°æ˜Žå¼ä»£ç ï¼Œæž„å»ºå‡ºå¯è‡ªç”±è°ƒèŠ‚çš„ç»æµŽæ¨¡åž‹ã€‚å½“ç„¶ï¼ŒAIå·¥å…·â€”â€”åŒ…æ‹¬Claudeâ€”â€”ä¹Ÿæ˜¯æˆ‘å†™ä»£ç çš„å¥½å¸®æ‰‹ã€‚',
    about2b:       'è¿™æ˜¯ä¸€ä¸ªæŒç»­æ›´æ–°çš„é¡¹ç›®ï¼ŒåŽç»­ä¼šä¸æ–­åŠ å…¥æ–°å›¾åƒã€‚',
    graphsTitle:   'å›¾åƒç›®å½•',
    folder1Title:  'APå¾®è§‚ç»æµŽå›¾åƒ',
    folder1Desc:   'æ¶µç›–ä¾›æ±‚å…³ç³»ã€æˆæœ¬æ›²çº¿ã€å¸‚åœºç»“æž„ç­‰æ ¸å¿ƒAPå¾®è§‚ç»æµŽæ¨¡åž‹ã€‚',
    folder2Title:  'å›¾åƒè¯•éªŒ',
    folder2Desc:   'ä¸€äº›æ—©æœŸçš„æ¨¡åž‹å°è¯•ï¼Œä¾ç„¶ä¿ç•™ï¼Œä¾›ä½ å‚è€ƒã€‚',
    openFolder:    'è¿›å…¥æ–‡ä»¶å¤¹',
    creditTitle:   'ç‰¹åˆ«è‡´è°¢',
    creditDesc:    'æ„Ÿè°¢æ–¯å¦ç¦å¤§å­¦Chris Maklerå¼€å‘çš„KineticGraphsï¼ˆKGJSï¼‰ã€‚æœ¬ç«™æ‰€æœ‰äº’åŠ¨å›¾åƒéƒ½åŸºäºŽè¿™ä¸€ç®€æ´ä¼˜é›…çš„YAML/JSONé…ç½®å¼•æ“Žæž„å»ºã€‚',
    creditBtn:     'è®¿é—®å®˜ç½‘ â†—',
    contactTitle:  'è”ç³»æˆ‘',
    contactHeading:'æ¬¢è¿Žäº¤æµ',
    contactDesc:   'æ— è®ºä½ æ˜¯æ­£åœ¨å­¦ä¹ APç»æµŽå­¦ï¼Œè¿˜æ˜¯æ­£åœ¨æ•™æŽˆè¿™é—¨è¯¾ï¼Œéƒ½æ¬¢è¿Žå’Œæˆ‘èŠèŠã€‚ðŸ˜Š',
    contactBtnEmail: 'ç”µå­é‚®ç®± â†’',
    contactBtnWechat:'æ·»åŠ å¾®ä¿¡ â†’',
    footerCredit:  'åŸºäºŽChris Maklerçš„KineticGraphsæž„å»º',
    wechatAddMe:   'æ·»åŠ æˆ‘çš„',
    wechatName:    'å¾®ä¿¡',
    modalHint:     'æ‰“å¼€å¾®ä¿¡ â†’ æ‰«ä¸€æ‰«äºŒç»´ç ',
  }
};

function render(lang) {
  const t = T[lang];
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (t[key] !== undefined) el.textContent = t[key];
  });

  // Apply Chinese-specific typography directly
  const h1 = document.querySelector('h1');
  const heroSub = document.querySelector('.hero-sub');
  if (lang === 'zh') {
    h1.style.lineHeight = '1.2';
    h1.style.letterSpacing = '0.05em';
    heroSub.style.lineHeight = '1.8';
    heroSub.style.letterSpacing = '0.02em';
  } else {
    h1.style.lineHeight = '.92';
    h1.style.letterSpacing = '-.03em';
    heroSub.style.lineHeight = '1.6';
    heroSub.style.letterSpacing = '';
  }
  
  // Toggle Active State on Buttons
  document.getElementById('btn-en').classList.toggle('active', lang === 'en');
  document.getElementById('btn-zh').classList.toggle('active', lang === 'zh');
  
  // Set Lang attribute for CSS targeting
  document.documentElement.lang = lang === 'zh' ? 'zh' : 'en';

  // Toggle Contact Buttons based on language
  const btnEmail = document.getElementById('btn-contact-email');
  const btnWechat = document.getElementById('btn-contact-wechat');
  
  if (lang === 'zh') {
    btnEmail.style.display = 'none';
    btnWechat.style.display = 'inline-flex';
  } else {
    btnEmail.style.display = 'inline-flex';
    btnWechat.style.display = 'none';
  }
}

function setLang(lang) {
  render(lang);
  try { localStorage.setItem('econ-lang', lang); } catch(e) {}
}

function detectLang() {
  try {
    const saved = localStorage.getItem('econ-lang');
    if (saved === 'en' || saved === 'zh') return saved;
  } catch(e) {}
  const nav = (navigator.language || navigator.userLanguage || '').toLowerCase();
  return nav.startsWith('zh') ? 'zh' : 'en';
}

// Wait for the entire HTML to be read before running the initial translation
document.addEventListener('DOMContentLoaded', function() {
  render(detectLang());
});
</script>

<!-- WECHAT MODAL -->
<div class="modal-overlay" id="wechat-modal" onclick="closeOnOverlay(event)">
  <div class="modal-box">
    <button class="modal-close" onclick="closeWechat()" aria-label="Close">Ã—</button>
    <div class="modal-label"><span data-i18n="wechatAddMe"></span><span class="wechat-name" data-i18n="wechatName"></span></div>
    <img src="https://raylaoshi.github.io/assets/images/wechat-qr.png" alt="WeChat QR Code" class="qr-image">
    <p class="modal-hint" data-i18n="modalHint">Open WeChat â†’ Scan QR code</p>
  </div>
</div>

<script>
// Modal Logic
function openWechat() { 
  document.getElementById('wechat-modal').classList.add('open'); 
  document.body.style.overflow = 'hidden'; // Prevent scrolling background
}

function closeWechat() { 
  document.getElementById('wechat-modal').classList.remove('open'); 
  document.body.style.overflow = ''; 
}

function closeOnOverlay(e) { 
  if (e.target === document.getElementById('wechat-modal')) closeWechat(); 
}

// Close on Escape key
document.addEventListener('keydown', e => { 
  if (e.key === 'Escape') closeWechat(); 
});
</script>

<script>
  requestAnimationFrame(() => {
      requestAnimationFrame(() => {
          document.body.style.opacity = '1';
      });
  });
</script>

</body>
</html>